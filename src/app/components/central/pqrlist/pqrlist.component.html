<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header" style="background-color: #004790;color :#39D5FF;text-align: center;">
            <h2 style="font-weight:bold">Lista de PQR</h2>
          </div>
          <div class="card-body">
            <div class="table-responsive-xl">
              <table class="table">
                <thead>
                  <tr>
                    <th class="col-lg-4" style="font-weight:bold">Tipo PQR</th>
                    <th class="col-lg-4" style="font-weight:bold">Fecha</th>
                    <th class="col-lg-4" style="font-weight:bold">Accion</th>
                  </tr>
                </thead>
                  <tbody>
                    <tr *ngFor="let r of res">
                      <td >
                        <div *ngIf="r.tipoPQR == 4">
                          <p-tag icon="bi bi-chat-square-text" severity="success" value="COMENTARIO">
                              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chat-square-text" viewBox="0 0 16 16">
                                <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                              </svg>
                            </p-tag>
                        </div>
                        <div *ngIf="r.tipoPQR == 3">
                          <p-tag icon="bi bi-emoji-angry-fill" severity="warning" value="RECLAMO">
                              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-emoji-angry-fill" viewBox="0 0 16 16">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM4.053 4.276a.5.5 0 0 1 .67-.223l2 1a.5.5 0 0 1 .166.76c.071.206.111.44.111.687C7 7.328 6.552 8 6 8s-1-.672-1-1.5c0-.408.109-.778.285-1.049l-1.009-.504a.5.5 0 0 1-.223-.67zm.232 8.157a.5.5 0 0 1-.183-.683A4.498 4.498 0 0 1 8 9.5a4.5 4.5 0 0 1 3.898 2.25.5.5 0 1 1-.866.5A3.498 3.498 0 0 0 8 10.5a3.498 3.498 0 0 0-3.032 1.75.5.5 0 0 1-.683.183zM10 8c-.552 0-1-.672-1-1.5 0-.247.04-.48.11-.686a.502.502 0 0 1 .166-.761l2-1a.5.5 0 1 1 .448.894l-1.009.504c.176.27.285.64.285 1.049 0 .828-.448 1.5-1 1.5z"/>
                              </svg>
                            </p-tag>
                        </div>
                        <div *ngIf="r.tipoPQR == 2">
                          <p-tag icon="bi bi-emoji-angry" severity="danger" value="QUEJA">
                              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-emoji-angry" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zm6.991-8.38a.5.5 0 1 1 .448.894l-1.009.504c.176.27.285.64.285 1.049 0 .828-.448 1.5-1 1.5s-1-.672-1-1.5c0-.247.04-.48.11-.686a.502.502 0 0 1 .166-.761l2-1zm-6.552 0a.5.5 0 0 0-.448.894l1.009.504A1.94 1.94 0 0 0 5 6.5C5 7.328 5.448 8 6 8s1-.672 1-1.5c0-.247-.04-.48-.11-.686a.502.502 0 0 0-.166-.761l-2-1z"/>
                              </svg>
                            </p-tag>
                        </div>
                        <div *ngIf="r.tipoPQR == 1">
                          <p-tag icon="bi bi-emoji-frown-fill" severity="primary" value="PETICIÃ“N">
                              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-emoji-frown-fill" viewBox="0 0 16 16">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm-2.715 5.933a.5.5 0 0 1-.183-.683A4.498 4.498 0 0 1 8 9.5a4.5 4.5 0 0 1 3.898 2.25.5.5 0 0 1-.866.5A3.498 3.498 0 0 0 8 10.5a3.498 3.498 0 0 0-3.032 1.75.5.5 0 0 1-.683.183zM10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8z"/>
                              </svg>
                            </p-tag>
                        </div>
                      </td>
                      <td >
                        <h2>{{r.fechaPublicacionPQR | date}}</h2>
                      </td>
                      <td>
                        <button pButton pRipple type="button" class="p-button-rounded p-button-info" pTooltip="Visualizar" icon="pi pi-search" (click)="verQueja(r.descripcionPQR,r.tipoPQR,r.redactorPQR)" >
                        </button>
                    </td>
                      <p-dialog [modal]="true" [(visible)]="mostrarQueja" [style]="{width: '80vw'}" [baseZIndex]="10000">
                        <header class="card-header" style="background-color: #004790;color :#39D5FF;text-align: center;" >
                          <h3 style="font-weight:bold">
                            {{pqrSeleccionada.redactor}} DICE:
                          </h3>
                        </header>
                        <div class="card">
                          <div class="card-body" id="descripcion_pqr">
                              {{pqrSeleccionada.descripcion}}
                          </div>
                        </div>
                    </p-dialog>
                    </tr>
                  </tbody>
              </table>
          </div>
          </div>
        </div>
      </div>
  </div>
</div>


<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li [ngClass]="{'page-item':true, 'disabled': pagact==0 }">
            <a class="page-link"  (click)="ObtenerPQRS(pagact-1)" style="cursor:pointer;">Anterior</a>
        </li>
        <li  [ngClass]="{'page-item':true, 'active': pagact==i }"  *ngFor="let m of maxpag; let i = index ">
            <a class="page-link" style="cursor:pointer;"  (click)="ObtenerPQRS(i)">{{i+1}}</a></li>
        <li [ngClass]="{'page-item':true, 'disabled': pagact>=maxpag.length-1 }">
            <a class="page-link"  (click)="ObtenerPQRS(pagact+1)" style="cursor:pointer;">Siguiente</a>
        </li>
    </ul>
</nav>
